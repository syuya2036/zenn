---
title: "åŸºæœ¬çš„ãªã‚°ãƒ©ãƒ•ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è§£èª¬ã¨Pythonå®Ÿè£…ã€ã‚°ãƒ©ãƒ•å…¥é–€ã€‘"
emoji: "ğŸ›œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["ç«¶ãƒ—ãƒ­", "ã‚°ãƒ©ãƒ•ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ", "Python", "AtCoder"]
published: true
published_at: 2024-01-01 09:03
---

# ã‚°ãƒ©ãƒ•ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

# åˆã‚ã«

éƒ¨æ´»ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è¬›åº§ã§ä½¿ã£ãŸè³‡æ–™ã‚’å…¬é–‹ã—ã¾ã™ã€‚

# ã‚°ãƒ©ãƒ•ã¨ã¯

ã‚°ãƒ©ãƒ•ã¨ã¯ã€ä»¥ä¸‹ã®å›³ã®ã‚ˆã†ã«ã€é ‚ç‚¹ã¨ãã‚Œã‚’çµã¶è¾ºã‹ã‚‰ãªã‚‹æ§‹é€ ã®ã“ã¨ã‚’è¨€ã„ã¾ã™ã€‚

![ã‚°ãƒ©ãƒ•ã®ä¾‹](/images/sample01.png)

å›³ 1: ã‚°ãƒ©ãƒ•ã®ä¾‹

# ã‚°ãƒ©ãƒ•ã®ä¾‹

ã‚°ãƒ©ãƒ•ã£ã¦ãªã‚“ã®å½¹ã«ç«‹ã¤ã®ï¼Ÿã¨æ€ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å®Ÿã¯ã‚°ãƒ©ãƒ•ã¯ç§ãŸã¡ã®èº«ã®å›ã‚Šã«ãŸãã•ã‚“å­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚

- å‹é”é–¢ä¿‚

å‹é”é–¢ä¿‚ã‚„å®¶æ—é–¢ä¿‚ã€SNS ã®ãƒ•ã‚©ãƒ­ãƒ¼é–¢ä¿‚ãªã©ã¯ã€äººã‚’é ‚ç‚¹ã€äººã¨äººã®é–¢ä¿‚ã‚’è¾ºã¨ã—ã¦ã€ã‚°ãƒ©ãƒ•ã§è¡¨ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

- é“è·¯ç¶²

é“è·¯ç¶²ã¯ã€äº¤å·®ç‚¹ã‚’é ‚ç‚¹ã€é“è·¯ã‚’è¾ºã¨ã—ã¦ã€ã‚°ãƒ©ãƒ•ã§è¡¨ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯

ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯ã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚’é ‚ç‚¹ã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿é–“ã®é€šä¿¡ã‚’è¾ºã¨ã—ã¦ã€ã‚°ãƒ©ãƒ•ã§è¡¨ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

# ã‚°ãƒ©ãƒ•ã®ç”¨èª

ã‚°ãƒ©ãƒ•ã®ç”¨èªã®æ€§è³ªã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

## æœ‰å‘ã‚°ãƒ©ãƒ•ãƒ»ç„¡å‘ã‚°ãƒ©ãƒ•

ã‚°ãƒ©ãƒ•ã«ã¯ã€æœ‰å‘ã‚°ãƒ©ãƒ•ã¨ç„¡å‘ã‚°ãƒ©ãƒ•ã® 2 ç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚
æœ‰å‘ã‚°ãƒ©ãƒ•ã¯è¾ºã«æ–¹å‘ãŒã‚ã‚‹ã‚°ãƒ©ãƒ•ã§ã€SNS ã®ãƒ•ã‚©ãƒ­ãƒ¼é–¢ä¿‚ãªã©ã¯ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ã„ã‚‹äººã‹ã‚‰ãƒ•ã‚©ãƒ­ãƒ¼ã•ã‚Œã¦ã„ã‚‹äººã¸ã®è¾ºã«å‘ãã‚’æŒãŸã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ç„¡å‘ã‚°ãƒ©ãƒ•ã¯è¾ºã«æ–¹å‘ãŒãªã„ã‚°ãƒ©ãƒ•ã§ã€SNS ã®ç›¸äº’ãƒ•ã‚©ãƒ­ãƒ¼é–¢ä¿‚ãªã©ã§å‘ããŒãªã„è¾ºã«ãªã‚Šã¾ã™ã€‚

## é‡ã¿ä»˜ãã‚°ãƒ©ãƒ•ãƒ»é‡ã¿ãªã—ã‚°ãƒ©ãƒ•

é‡ã¿ä»˜ãã‚°ãƒ©ãƒ•ã¯ã€è¾ºã«é‡ã¿ãŒã‚ã‚‹ã‚°ãƒ©ãƒ•ã§ã€é“è·¯ç¶²ãªã©ã¯é“è·¯ã®é•·ã•ã‚’é‡ã¿ã¨ã—ã¦æŒã¤ã“ã¨ãŒã§ãã¾ã™ã€‚

## æ¬¡æ•°

é ‚ç‚¹ã«ã¤ãªãŒã£ã¦ã„ã‚‹è¾ºã®æ•°ã‚’æ¬¡æ•°ã¨è¨€ã„ã¾ã™ã€‚

ä¸Šã®ç”»åƒã§ã„ã†ã¨ã€é ‚ç‚¹ 1 ã®æ¬¡æ•°ã¯ 2ã€é ‚ç‚¹ 3 ã®æ¬¡æ•°ã¯ 1 ã¨ãªã‚Šã¾ã™ã€‚

## éš£æ¥ãƒ»é€£çµ

é ‚ç‚¹ A ã¨é ‚ç‚¹ B ãŒè¾ºã§ã¤ãªãŒã£ã¦ã„ã‚‹ã¨ãã€é ‚ç‚¹ A ã¨é ‚ç‚¹ B ã¯éš£æ¥ã—ã¦ã„ã‚‹ã¨è¨€ã„ã¾ã™ã€‚

ã¾ãŸã€ã©ã®é ‚ç‚¹é–“ã‚‚éš£æ¥ã—ã¦ã„ã‚‹é ‚ç‚¹ã‚’è¾¿ã‚‹ã“ã¨ã§åˆ°é”å¯èƒ½ã§ã‚ã‚‹æ™‚ã€ã‚°ãƒ©ãƒ•ã¯é€£çµã§ã‚ã‚‹ã¨è¨€ã„ã¾ã™ã€‚

å›³ 1 ã®ã‚°ãƒ©ãƒ•ã¯é€£çµã§ã‚ã‚‹ã¨è¨€ãˆã¾ã™ãŒã€ä»¥ä¸‹ã®ã‚°ãƒ©ãƒ•ã¯é€£çµã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

![é€£çµã§ãªã„ã‚°ãƒ©ãƒ•](/images/sample02.png)

å›³ 2: é€£çµã§ãªã„ã‚°ãƒ©ãƒ•

## é–‰è·¯

é ‚ç‚¹ A ã‹ã‚‰è¾¿ã£ã¦é ‚ç‚¹ A ã«æˆ»ã£ã¦ãã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ãã€é ‚ç‚¹ A ã‚’å§‹ç‚¹ã¨ã™ã‚‹é–‰è·¯ãŒå­˜åœ¨ã™ã‚‹ã¨è¨€ã„ã¾ã™ã€‚

å›³ 1 ã®ã‚°ãƒ©ãƒ•ã§ã¯ã€4->5->2->4 ã¨ã„ã†é–‰è·¯ãŒå­˜åœ¨ã—ã¾ã™ã€‚

## ãƒ‘ã‚¹

é ‚ç‚¹ A ã‹ã‚‰è¾¿ã£ã¦é ‚ç‚¹ B ã«åˆ°é”ã§ãã‚‹ã¨ãã€é ‚ç‚¹ A ã‹ã‚‰é ‚ç‚¹ B ã¸ã®ãƒ‘ã‚¹ãŒå­˜åœ¨ã™ã‚‹ã¨è¨€ã„ã¾ã™ã€‚ç‰¹ã«ã€åŒã˜è¾ºã‚’ 2 åº¦ä»¥ä¸Šé€šã‚‰ãªã„ãƒ‘ã‚¹ã‚’å˜ç´”ãƒ‘ã‚¹ã¨è¨€ã„ã¾ã™ã€‚

## äºŒéƒ¨ã‚°ãƒ©ãƒ•

é ‚ç‚¹ã‚’ 2 ã¤ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†ã‘ã¦ã€åŒã˜ã‚°ãƒ«ãƒ¼ãƒ—ã®é ‚ç‚¹åŒå£«ã¯è¾ºã§ã¤ãªãŒã£ã¦ã„ãªã„ã‚°ãƒ©ãƒ•ã‚’äºŒéƒ¨ã‚°ãƒ©ãƒ•ã¨è¨€ã„ã¾ã™ã€‚

![äºŒéƒ¨ã‚°ãƒ©ãƒ•](/images/sample03.png)

å›³ 3: äºŒéƒ¨ã‚°ãƒ©ãƒ•

## æœ¨

é–‰è·¯ã‚’æŒãŸãšã€é€£çµãªã‚°ãƒ©ãƒ•ã‚’æœ¨ã¨è¨€ã„ã¾ã™ã€‚ä»»æ„ã®æœ¨ã¯ã€é ‚ç‚¹æ•°ãŒ $N$ ã®ã¨ãã€è¾ºã®æ•°ãŒ $N-1$ ã§ã‚ã‚‹ã“ã¨ãŒçŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚
(æš‡ãªäººã¯è¨¼æ˜ã—ã¦ã¿ã¦ä¸‹ã•ã„ã€‚æ•°å­¦çš„å¸°ç´æ³•ã‚’ä½¿ã†ã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚)

![æœ¨](/images/sample04.png)

å›³ 4: æœ¨

ã¾ãŸã€æœ¨ã¯ã‚ã‚‹é ‚ç‚¹ã‚’æ ¹ã¨ã—ã¦æ ¹ä»˜ãæœ¨ã¨ã—ã¦è¡¨ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®æ™‚ã€æ ¹ä»¥å¤–ã§æ¬¡æ•°ãŒ 1 ã®é ‚ç‚¹ã‚’è‘‰ã¨è¨€ã„ã¾ã™ã€‚

æ ¹ä»˜ãæœ¨ã«ãŠã„ã¦ã€ä¸€ã¤ä¸Šã®é ‚ç‚¹ã‚’è¦ªã€ä¸€ã¤ä¸‹ã®é ‚ç‚¹ã‚’å­ã¨è¨€ã„ã¾ã™ã€‚

ä¸‹ã®ä¾‹ã¯ã€é ‚ç‚¹ 1 ã‚’æ ¹ã¨ã™ã‚‹æ ¹ä»˜ãæœ¨ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚ãŸã¨ãˆã°ã€é ‚ç‚¹ 4 ã®è¦ªã¯é ‚ç‚¹ 2ã€é ‚ç‚¹ 3 ã®å­ã¯é ‚ç‚¹ 5 ã¨é ‚ç‚¹ 6 ã§ã™ã€‚è‘‰ã¯é ‚ç‚¹ 5ã€é ‚ç‚¹ 6ã€é ‚ç‚¹ 7 ã§ã™ã€‚

ã‚ã‚‹é ‚ç‚¹ã‹ã‚‰æ ¹ã¾ã§ã®é•·ã•(ãŸã©ã£ãŸè¾ºã®æ•°)ã‚’æ·±ã•ã¨è¨€ã„ã¾ã™ã€‚ãŸã¨ãˆã°ã€é ‚ç‚¹ 4 ã®æ·±ã•ã¯ 2 ã§ã™ã€‚

![æ ¹ä»˜ãæœ¨](/images/sample05.png)

å›³ 5: æ ¹ä»˜ãæœ¨

# Union-Find

Union-Find ã¯ã€ã‚°ãƒ©ãƒ•ã®é€£çµæˆåˆ†ã‚’ç®¡ç†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚
æœ¨ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã™ã‚‹ã®ã«é©ã—ã¦ã„ã‚‹ã®ã§ã“ã®æ®µéšã§ç´¹ä»‹ã—ã¾ã™ã€‚

ä»¥ä¸‹ã®å‹•ç”»ãŒã‚ã‹ã‚Šã‚„ã™ã„ã®ã§ã€ã¾ãšã¯è¦‹ã¦ã¿ã¦ä¸‹ã•ã„ã€‚

- [ã€æœ¨ãƒã‚¹ã‚¿ãƒ¼é¤Šæˆè¬›åº§ã€‘3-1. UnionFind æœ¨ã£ã¦ãªã«ã€œï¼Ÿèª¬æ˜ç·¨ã€ç«¶ãƒ—ãƒ­ã‹ã¤ã£ã±ã€‘](https://www.youtube.com/watch?v=nclfErc9pbE)
- [ã€æœ¨ãƒã‚¹ã‚¿ãƒ¼é¤Šæˆè¬›åº§ã€‘3-2. UnionFind æœ¨ã£ã¦ãªã«ã€œï¼Ÿ2 ã¤ã®ã²ã¨å·¥å¤«ç·¨ã€ç«¶ãƒ—ãƒ­ã‹ã¤ã£ã±ã€‘](https://www.youtube.com/watch?v=8AJy3Ewx7AY)

## ç·´ç¿’

1. [AtCoder Beginner Contest 075 C - Bridge](https://atcoder.jp/contests/abc075/tasks/abc075_c)
2. [AtCoder Beginner Contest 120 D - Decayed Bridges](https://atcoder.jp/contests/abc120/tasks/abc120_d)

2 ã¯é›£ã—ã„ã®ã§ã€1 æ™‚é–“è€ƒãˆã¦ã‚ã‹ã‚‰ãªã‹ã£ãŸã‚‰è§£èª¬ã‚’è¦‹ã¦ä¸‹ã•ã„ã€‚

## è§£ç­”ä¾‹

1. [ABC075 C - Bridge](https://atcoder.jp/contests/abc075/submissions/22574891)

ã¾ãšæ™®é€šã« union-find æœ¨ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚union-find æœ¨ã®æ§‹ç¯‰ã«ã¯ã€[atcoder ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª](https://github.com/not522/ac-library-python)ã‚’ä½¿ã†ã¨ä¾¿åˆ©ã§ã™ã€‚

ãã®å¾Œã€å„è¾ºãŒãªã„å ´åˆã® union-find æœ¨ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚å…ƒã€…æ§‹ç¯‰ã—ãŸ union-find æœ¨ã®ã‚°ãƒ«ãƒ¼ãƒ—æ•°ã‚ˆã‚Šã‚‚ã€å„è¾ºãŒãªã„å ´åˆã® union-find æœ¨ã®ã‚°ãƒ«ãƒ¼ãƒ—æ•°ã‚ˆã‚Šå¢—ãˆãŸå ´åˆã€ãã®è¾ºã¯æ©‹ã§ã‚ã‚‹ã¨è¨€ãˆã¾ã™ã€‚

```python
from atcoder.dsu import DSU

N, M = map(int, input().split())

dsu = DSU(N+1)

A, B = [], []

for _ in range(M):
    a, b = map(int, input().split())
    A.append(a)
    B.append(b)
    dsu.merge(a, b)

groups = dsu.groups()

count = 0
for a, b in zip(A, B):
    check_uf = DSU(N+1)
    for aa, bb in zip(A, B):
        if aa == a and bb == b:
            continue
        else:
            check_uf.merge(aa, bb)
    if len(check_uf.groups()) > len(groups):
        count += 1

print(count)
```

2. [ABC120 D - Decayed Bridges](https://atcoder.jp/contests/abc120/submissions/22574901)

[ã€Python3ã€‘ AtCoder Beginner Contest 120 D â€“ Decayed Bridges](https://blog.satoooh.com/entry/6464/)ãŒå‚è€ƒã«ãªã‚Šã¾ã™ã€‚

```python
from atcoder.dsu import DSU

N, M = map(int, input().split())

dsu = DSU(N)

A, B = [], []

for _ in range(M):
    a, b = map(int, input().split())
    A.append(a-1)
    B.append(b-1)

# ç­”ãˆã‚’æ ¼ç´ã™ã‚‹é…åˆ—
# æœ€åˆã¯ã™ã¹ã¦ç¹‹ãŒã£ã¦ã„ãªã„ã®ã§Nã‹ã‚‰2ã¤é¸ã¶çµ„ã¿åˆã‚ã›ã‚’å…¥ã‚Œã‚‹
ans = [-1] * M
ans[-1] = int(N * (N - 1) * 0.5)

for i in range(M-1, 0, -1):
    # åŒã˜ã‚°ãƒ«ãƒ¼ãƒ—ãªã‚‰å¤‰åŒ–ã—ãªã„
    if dsu.same(A[i], B[i]):
        ans[i - 1] = ans[i]
    else:
        # æ©‹ã‚’ã¤ã‘ã‚‹ã“ã¨ã§ã‚°ãƒ«ãƒ¼ãƒ—ã®å³¶ãã‚Œãã‚Œã«å¯¾ã—ã¦è¡Œãæ¥å¯èƒ½ã«ãªã‚‹
        # ä¾‹ãˆã°ã€2ã¤ã®ã‚°ãƒ«ãƒ¼ãƒ—ã¨3ã¤ã®ã‚°ãƒ«ãƒ¼ãƒ—ãŒãã£ã¤ãã¨ã€6ã ã‘ä¸ä¾¿ã•ãŒæ¸›ã‚‹
        ans[i - 1] = ans[i] - dsu.size(A[i]) * dsu.size(B[i])
    dsu.merge(A[i], B[i])

for x in ans:
    print(x)
```


# ã‚°ãƒ©ãƒ•ã®å®Ÿè£…

ä»¥ä¸‹ã®å•é¡Œã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚

- [ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®é‰„å‰‡ã€€æ¼”ç¿’å•é¡Œé›† A61-Adjacent Vertices](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_bi)

ã“ã®å•é¡Œã¯ã€ $N$ å€‹ã®é ‚ç‚¹ã¨ $M$ å€‹ã®è¾ºã‹ã‚‰ãªã‚‹ã‚°ãƒ©ãƒ•ãŒä¸ãˆã‚‰ã‚Œã‚‹ã®ã§ã€å„é ‚ç‚¹ã®éš£æ¥ã—ãŸè¦ç´ ã‚’å‡ºåŠ›ã™ã‚‹å•é¡Œã§ã™ã€‚

ä¾‹ãˆã°å›³ 1 ã®ã‚°ãƒ©ãƒ•ã®å ´åˆã€é ‚ç‚¹ 4 ã®éš£æ¥ã—ãŸé ‚ç‚¹ã¯é ‚ç‚¹ 2 ã¨é ‚ç‚¹ 5 ã§ã™ã€‚
ã“ã‚Œã‚’å„é ‚ç‚¹ã«ã¤ã„ã¦å‡ºåŠ›ã—ã¾ã™ã€‚

## éš£æ¥ãƒªã‚¹ãƒˆ

ã‚°ãƒ©ãƒ•ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§æ‰±ã†å ´åˆã€éš£æ¥ãƒªã‚¹ãƒˆã¨éš£æ¥è¡Œåˆ—ã® 2 ç¨®é¡ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®è³‡æ–™ã§ã¯éš£æ¥ãƒªã‚¹ãƒˆã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

éš£æ¥ãƒªã‚¹ãƒˆã¯ã€å„é ‚ç‚¹ã«ã¤ã„ã¦ã€éš£æ¥ã™ã‚‹é ‚ç‚¹ã‚’ãƒªã‚¹ãƒˆã§æŒã¤æ–¹æ³•ã§ã™ã€‚

ãƒ—ãƒ­ã‚°ãƒ©ãƒ ä¸Šã§é…åˆ— $G$ ã‚’ç”¨æ„ã—ã€ $G[i]$ ã«ã¯é ‚ç‚¹ $i$ ã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã®é…åˆ—ã‚’æŒã¡ã¾ã™ã€‚

ä¾‹ãˆã°å›³ 1 ã‚’éš£æ¥ãƒªã‚¹ãƒˆã§è¡¨ã—ãŸå ´åˆã€ $G[4]$ ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ $G[4] = [2, 5]$ ã¨ãªã‚Šã¾ã™ã€‚ãªãœãªã‚‰ã€é ‚ç‚¹ 4 ã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã¯é ‚ç‚¹ 2 ã¨é ‚ç‚¹ 5 ã ã‹ã‚‰ã§ã™ã€‚

## å®Ÿè£…

éš£æ¥ãƒªã‚¹ãƒˆã‚’ç”¨ã„ã¦ã€ä¸Šã®å•é¡Œã‚’è§£ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

## è§£ç­”ä¾‹

```python
N, M = map(int, input().split())

G = {} # éš£æ¥ãƒªã‚¹ãƒˆã‚’è¡¨ã™è¾æ›¸
for i in range(1, N+1):
    G[i] = set() # é ‚ç‚¹iã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã®é›†åˆ

for i in range(1, M+1):
    A, B = map(int, input().split())

	# ç„¡å‘ã‚°ãƒ©ãƒ•ãªã®ã§ã€ä¸¡æ–¹å‘ã«è¾ºã‚’å¼µã‚‹
    G[A].add(B)
    G[B].add(A)


for key in G.keys():
	# é ‚ç‚¹keyã«éš£æ¥ã™ã‚‹é ‚ç‚¹ãŒãªã„å ´åˆã¯ã€ç©ºé›†åˆã‚’å‡ºåŠ›
    if len(G[key]) == 0:
        print(f"{key}:", "{}")
    else:
        print(f"{key}:", G[key])
```

# ã‚°ãƒ©ãƒ•ã®æ¢ç´¢

ã‚°ãƒ©ãƒ•ã‚’æ¢ç´¢ã™ã‚‹ã«ã¯ã€å¹…å„ªå…ˆæ¢ç´¢ã¨æ·±ã•å„ªå…ˆæ¢ç´¢ã® 2 ç¨®é¡ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ã“ã“ã§ã¯ã¾ãšã€ã“ã‚Œã‚‰ã‚’å®Ÿè£…ã™ã‚‹ã®ã«å¿…è¦ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã‚ã‚‹ã€Œã‚¹ã‚¿ãƒƒã‚¯ã€ã¨ã€Œã‚­ãƒ¥ãƒ¼ã€ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

## ã‚¹ã‚¿ãƒƒã‚¯

ã‚¹ã‚¿ãƒƒã‚¯ã¯ã€å…ˆå…¥ã‚Œå¾Œå‡ºã—ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚å…·ä½“ä¾‹ã§è€ƒãˆãŸã»ã†ãŒã‚ã‹ã‚Šã‚„ã™ã„ã®ã§ã€ä»¥ä¸‹ã®å•é¡Œã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚

- [ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®é‰„å‰‡ã€€æ¼”ç¿’å•é¡Œé›† A51-Stack](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ay)

å›³è§£ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

ã¾ãšã‹ã‚‰ã®ç®±ãŒã‚ã‚Šã€Aã‚’å…¥ã‚Œã€æ¬¡ã« B ã‚’å…¥ã‚Œã¾ã™ã€‚ãã—ã¦ä¸€ç•ªä¸Šã‚’å–ã‚Šå‡ºã™ã¨ã€B ãŒå–ã‚Šå‡ºã•ã‚Œã¾ã™ã€‚

ã“ã‚Œã¯ã€å…ˆã«å…¥ã‚ŒãŸã‚‚ã®ãŒå¾Œã«å–ã‚Šå‡ºã•ã‚Œã¦ã„ã‚‹ã®ã§ã€å…ˆå…¥ã‚Œå¾Œå‡ºã—ã¨è¨€ãˆã¾ã™ã€‚å…ˆå…¥ã‚Œå¾Œå‡ºã—ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã¨è¨€ã„ã¾ã™ã€‚

![ã‚¹ã‚¿ãƒƒã‚¯](/images/sample06.png)

å®Ÿè£…ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

pythonã§ã¯ã€ãƒªã‚¹ãƒˆã‚’ã‚¹ã‚¿ãƒƒã‚¯ã¨ã—ã¦ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒªã‚¹ãƒˆã® append ãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’è¿½åŠ ã—ã€pop ãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–ã‚Šå‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€ã„ã¡ã°ã‚“ä¸Šã®è¦ç´ ã‚’å–ã‚Šå‡ºã™ã ã‘ãªã‚‰ã€ãƒªã‚¹ãƒˆã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ -1 ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```python
Q = int(input())

stack = []
for _ in range(Q):
    line = input()
    query = line[0]
    if query == "1":
        book = line.split()[1]
        stack.append(book)
    elif query == "2":
        print(stack[-1])
    else:
        stack.pop()
```
    |

## ç·´ç¿’å•é¡Œ

### 5

`({}){()(())}`ã®ã‚ˆã†ãªã€`(`ã¨`)`ã€`{`ã¨`}`ã‹ã‚‰ãªã‚‹æ–‡å­—åˆ—ãŒä¸ãˆã‚‰ã‚Œã‚‹ã®ã§ã€ã“ã®æ–‡å­—åˆ—ãŒæ­£ã—ã„æ‹¬å¼§åˆ—ã§ã‚ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¦ä¸‹ã•ã„ã€‚

ä¾‹ãˆã°ã€`({})`ã¯æ­£ã—ã„æ‹¬å¼§åˆ—ã§ã™ãŒã€`({)}`ã¯æ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚

ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½¿ã£ã¦ç°¡å˜ã«å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```python
S = input()

stack = []
ok = True
for s in S:
    if s == '(' or s == '{':
        stack.append(s)
    else:
        if len(stack) == 0:
            ok = False
            break

        l = stack.pop()
        if s == ')' and l != '(':
            ok = False
            break

        if s == '}' and l != '{':
            ok = False
            break

print(ok)
```

## ã‚­ãƒ¥ãƒ¼

ã‚­ãƒ¥ãƒ¼ã¯ã€å…ˆå…¥ã‚Œå…ˆå‡ºã—ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚å…·ä½“ä¾‹ã§è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚

- [ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®é‰„å‰‡ã€€æ¼”ç¿’å•é¡Œé›† A52-Queue](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_az)

å…ˆã»ã©ã®ã‚¹ã‚¿ãƒƒã‚¯ã¨ã¯ç•°ãªã‚Šã€å…ˆã«å…¥ã‚ŒãŸã‚‚ã®ãŒå…ˆã«å–ã‚Šå‡ºã•ã‚Œã¦ã„ã‚‹ã®ã§ã€å…ˆå…¥ã‚Œå…ˆå‡ºã—ã¨è¨€ãˆã¾ã™ã€‚

pythonã§ã¯[deque](https://docs.python.org/ja/3/library/collections.html#collections.deque)ã‚’ä½¿ã†ã¨ã‚­ãƒ¥ãƒ¼ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- æœ€å¾Œå°¾ã«è¿½åŠ ã™ã‚‹: `append`
- å…ˆé ­ã‹ã‚‰å–ã‚Šå‡ºã™: `popleft`
- å…ˆé ­ã‚’è¦‹ã‚‹: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ 0 ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹

```python
from collections import deque
Q = int(input())

queue = deque()

for _ in range(Q):
    line = input()

    query = line[0]
    if query == '1':
        name = line.split()[1]
        queue.append(name)
    elif query == '2':
        print(queue[0])
    else:
        queue.popleft()
```

# å¹…å„ªå…ˆæ¢ç´¢(BFS)

ã¾ãšã¯å¹…å„ªå…ˆæ¢ç´¢ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚ä»¥ä¸‹ã®å•é¡Œã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚

- [ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®é‰„å‰‡ã€€æ¼”ç¿’å•é¡Œé›† A63-Shortest Path 1](https://atcoder.jp/contests/tessoku-book/tasks/math_and_algorithm_an)

ã“ã®å•é¡Œã¯ã€ã‚°ãƒ©ãƒ•ã®é ‚ç‚¹æ•° $N$ã€è¾ºã®æ•° $M$ã€é ‚ç‚¹ $1$ ã‹ã‚‰å„é ‚ç‚¹ã¸ã®æœ€çŸ­è·é›¢ã‚’æ±‚ã‚ã‚‹å•é¡Œã§ã™ã€‚

è§£ãæ–¹ã‚’è§£èª¬ã—ã¾ã™ã€‚ã¾ãšé ‚ç‚¹1ã‹ã‚‰ã®æœ€çŸ­è·é›¢ã‚’æ ¼ç´ã—ã¦ãŠãé…åˆ—ã‚’ç”¨æ„ã—ã¾ã™ã€‚æœ€åˆã¯ã™ã¹ã¦ã®é ‚ç‚¹ã®æœ€çŸ­è·é›¢ã‚’-1ã«ã—ã¦ãŠãã¾ã™ã€‚ã¾ãŸã€é ‚ç‚¹1ã¯é ‚ç‚¹1ã‹ã‚‰ã®è·é›¢ãŒ0ãªã®ã§ã€æœ€åˆã‹ã‚‰0ã«ã—ã¦ãŠãã¾ã™ã€‚

```python
ans = [-1] * N
ans[0] = 0
```

æ¬¡ã«é ‚ç‚¹1ã«éš£æ¥ã—ã¦ã„ã‚‹é ‚ç‚¹ã®è¦ç´ ã‚’1ã«ã—ã¾ã™ã€‚ãã—ã¦ã€æ¬¡ã¯ãã®é ‚ç‚¹ã«éš£æ¥ã—ã¦ã„ã‚‹é ‚ç‚¹ã®è¦ç´ ã‚’2ã«ã—ã¾ã™ã€‚ã“ã‚Œã‚’ç¹°ã‚Šè¿”ã—ã¦ã„ãã¾ã™ã€‚

![å¹…å„ªå…ˆæ¢ç´¢](/images/sample07.png)

å›³ 6: å¹…å„ªå…ˆæ¢ç´¢

åŒã˜é«˜ã•ã«ã‚ã‚‹è¦ç´ ãŒåŒã˜å€¤ã«ãªã£ã¦ãŠã‚Šã€å¹…ã‚’æ„è­˜ã—ã¦ã„ã‚‹æ„Ÿã˜ãŒã—ã¾ã™ã‚ˆã­ã€‚ã“ã‚ŒãŒå¹…å„ªå…ˆæ¢ç´¢ã§ã™ã€‚

ã¾ãŸã“ã‚Œã¯ã€ã‚­ãƒ¥ãƒ¼ã‚’ä½¿ã£ã¦ã€æ¬¡ã®ã‚ˆã†ã«è¨€ã„è¡¨ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

- ã‚­ãƒ¥ãƒ¼ã«é ‚ç‚¹1ã‚’å…¥ã‚Œã‚‹
- ã‚­ãƒ¥ãƒ¼ã‹ã‚‰é ‚ç‚¹ã‚’å–ã‚Šå‡ºã™
- å–ã‚Šå‡ºã—ãŸé ‚ç‚¹ã«éš£æ¥ã—ã¦ã„ã‚‹é ‚ç‚¹ã‚’ã‚­ãƒ¥ãƒ¼ã«å…¥ã‚Œã€ãã®é ‚ç‚¹ã®è¦ç´ ã‚’å–ã‚Šå‡ºã—ãŸé ‚ç‚¹ã®è¦ç´ +1ã«ã™ã‚‹
- ã‚­ãƒ¥ãƒ¼ãŒç©ºã«ãªã‚‹ã¾ã§ç¹°ã‚Šè¿”ã™

ã‚­ãƒ¥ãƒ¼ã«å…¥ã‚Œã‚‹ã“ã¨ã§ã€å…ˆã«å…¥ã‚ŒãŸã‚‚ã®ã‹ã‚‰é †ç•ªã«å–ã‚Šå‡ºã™ã“ã¨ãŒã§ãã€éš£æ¥ã—ã¦ã„ã‚‹ã‚‚ã®ã‚’å„ªå…ˆã§ãã‚‹ã®ã§ã€å¹…å„ªå…ˆæ¢ç´¢ãŒå®Ÿç¾ã§ãã¾ã™ã€‚

ä»¥ä¸‹ã®è¨˜äº‹ã‚’è¦‹ã‚‹ã¨è¦–è¦šçš„ã«ã‚ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚

- [BFS (å¹…å„ªå…ˆæ¢ç´¢) è¶…å…¥é–€ï¼ ã€œ ã‚­ãƒ¥ãƒ¼ã‚’é®®ã‚„ã‹ã«ä½¿ã„ã“ãªã™ ã€œ](https://qiita.com/drken/items/996d80bcae64649a6580)

ã“ã“ã¾ã§ã®èª¬æ˜ã‚’è¸ã¾ãˆã¦ã€å®Ÿè£…ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

## è§£ç­”ä¾‹

```python
from collections import deque

N, M = map(int, input().split())

G = {} # éš£æ¥ãƒªã‚¹ãƒˆã‚’è¡¨ã™è¾æ›¸
for i in range(N):
    G[i] = set() # é ‚ç‚¹iã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã®é›†åˆ

for i in range(M):
    A, B = map(int, input().split())

	# ç„¡å‘ã‚°ãƒ©ãƒ•ãªã®ã§ã€ä¸¡æ–¹å‘ã«è¾ºã‚’å¼µã‚‹
    G[A-1].add(B-1)
    G[B-1].add(A-1)

q = deque() # ãƒ‡ãƒƒã‚¯ã‚’å®šç¾©
ans = [-1] * N # æœªæ¢ç´¢ã¯-1ã«ã™ã‚‹
ans[0] = 0 # æœ€åˆã¯è·é›¢0
q.append(0) # ã‚­ãƒ¥ãƒ¼ã«0ã‚’è¿½åŠ ã™ã‚‹

# ã‚­ãƒ¥ãƒ¼ãŒç©ºã«ãªã‚‹ã¾ã§ç¶šã‘ã‚‹
while len(q) != 0:
    s = q.popleft() # ã‚­ãƒ¥ãƒ¼ã‹ã‚‰å–ã‚Šå‡ºã™
    for e in G[s]: # ã‚­ãƒ¥ãƒ¼ã‹ã‚‰å–ã‚Šå‡ºã—ãŸè¦ç´ ã®éš£æ¥è¦ç´ ã‚’è¦‹ã‚‹
        if ans[e] != -1: # è¨ªå•æ¸ˆã¿ã ã£ãŸã‚‰ãƒ‘ã‚¹
            continue
        ans[e] = ans[s] + 1 # å‰ã®è¦ç´ ã«1ã‚’è¶³ã›ã°è‡ªåˆ†ã«åˆ°é”å¯èƒ½ã§ã‚ã‚‹
        q.append(e) # ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ ã™ã‚‹

# ç­”ãˆã®å‡ºåŠ›
for a in ans:
    print(a)
```

## ç·´ç¿’å•é¡Œ

### 8

- [AtCoder Beginner Contest 007 C - å¹…å„ªå…ˆæ¢ç´¢](https://atcoder.jp/contests/abc007/tasks/abc007_3)

è¿·è·¯ã®æœ€çŸ­çµŒè·¯ã‚’æ±‚ã‚ã‚‹å•é¡Œã§ã™ã€‚ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

### 9

- [Atcoder Regular Contest 022 C - ãƒ­ãƒŸã‚ªã¨ã‚¸ãƒ¥ãƒªã‚¨ãƒƒãƒˆ](https://atcoder.jp/contests/arc022/tasks/arc022_3)

ã€Œæœ¨ã®ç›´å¾„ã€ã‚’æ±‚ã‚ã‚‹å•é¡Œã§ã™ã€‚æœ¨ã®ç›´å¾„ã¨ã¯ã€æœ¨ã®ä¸­ã§æœ€ã‚‚è·é›¢ãŒé•·ã„ 2 é ‚ç‚¹é–“ã®è·é›¢ã®ã“ã¨ã‚’è¨€ã„ã¾ã™ã€‚

é©å½“ãªé ‚ç‚¹ $s$ ã‹ã‚‰æœ€ã‚‚é ã„é ‚ç‚¹ $t$ ã‚’æ±‚ã‚ã€ãã®é ‚ç‚¹ $t$ ã‹ã‚‰æœ€ã‚‚é ã„é ‚ç‚¹ $u$ ã‚’æ±‚ã‚ã‚‹ã¨ã€é ‚ç‚¹ $t$ ã¨é ‚ç‚¹ $u$ ã®è·é›¢ãŒæœ¨ã®ç›´å¾„ã«ãªã‚Šã¾ã™ã€‚

æœ€ã‚‚é ã„é ‚ç‚¹ã®æ±‚ã‚æ–¹ã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚

# æ·±ã•å„ªå…ˆæ¢ç´¢(DFS)

æ¬¡ã«æ·±ã•å„ªå…ˆæ¢ç´¢ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚ä»¥ä¸‹ã®å•é¡Œã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚

- [ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®é‰„å‰‡ã€€æ¼”ç¿’å•é¡Œé›† A62 - Depth First Search](https://atcoder.jp/contests/tessoku-book/tasks/math_and_algorithm_am)

ã‚°ãƒ©ãƒ•ãŒé€£çµã§ã‚ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤å®šã™ã‚‹å˜ç´”ãªå•é¡Œã§ã™ã€‚æ·±ã•å„ªå…ˆæ¢ç´¢ã‚’ä½¿ã£ã¦è§£ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

æ·±ã•å„ªå…ˆæ¢ç´¢ã¨ã¯ã€ä»¥ä¸‹ã®å›³ã®ã‚ˆã†ã«ã€ã‚ã‚‹é ‚ç‚¹ã‹ã‚‰éš£æ¥ã™ã‚‹é ‚ç‚¹ã‚’æ¢ç´¢ã—ã¦ã„ãã€ãã‚ŒãŒã§ããªããªã£ãŸã‚‰ã€ä¸€ã¤å‰ã®é ‚ç‚¹ã«æˆ»ã£ã¦ã€åˆ¥ã®é ‚ç‚¹ã‚’æ¢ç´¢ã—ã¦ã„ãæ–¹æ³•ã§ã™ã€‚æ·±ã„ã¨ã“ã‚ã‹ã‚‰å…ˆã«æ¢ç´¢ã—ã¦ã„ã‚‹ã®ã§ã€æ·±ã•å„ªå…ˆæ¢ç´¢ã¨è¨€ã„ã¾ã™ã€‚

![æ·±ã•å„ªå…ˆæ¢ç´¢](/images/sample08.png)

å›³ 7: æ·±ã•å„ªå…ˆæ¢ç´¢

æ·±ã•å„ªå…ˆæ¢ç´¢ã¯ã€ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½¿ã£ã¦å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

1. è¨ªå•æ¸ˆã¿ã®é ‚ç‚¹ã‚’è¨˜éŒ²ã™ã‚‹é…åˆ—ã‚’ç”¨æ„ã™ã‚‹
1. ã‚¹ã‚¿ãƒƒã‚¯ã«é ‚ç‚¹ 1 ã‚’å…¥ã‚Œã‚‹
2. ã‚¹ã‚¿ãƒƒã‚¯ã‹ã‚‰é ‚ç‚¹ã‚’å–ã‚Šå‡ºã™
3. å–ã‚Šå‡ºã—ãŸé ‚ç‚¹ã«éš£æ¥ã—ã¦ã„ã‚‹é ‚ç‚¹ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã«å…¥ã‚Œã‚‹ã€‚ã“ã“ã§ã€è¨ªå•æ¸ˆã¿ã®é ‚ç‚¹ã¯ã‚¹ã‚¿ãƒƒã‚¯ã«å…¥ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹
4. ã‚¹ã‚¿ãƒƒã‚¯ãŒç©ºã«ãªã‚‹ã¾ã§ã€2ã¨3ã‚’ç¹°ã‚Šè¿”ã™

ã“ã‚Œã§æ·±ã•å„ªå…ˆæ¢ç´¢ãŒå®Ÿç¾ã§ãã¾ã™ã€‚æœ€å¾Œã«è¨ªå•æ¸ˆã¿ã®é ‚ç‚¹ã‚’æ•°ãˆã¦ã€é ‚ç‚¹æ•°ã¨åŒã˜ãªã‚‰é€£çµã§ã‚ã‚‹ã¨è¨€ãˆã¾ã™ã€‚

## è§£ç­”ä¾‹

```python
N, M = map(int, input().split())

G = {}  # éš£æ¥ãƒªã‚¹ãƒˆã‚’è¡¨ã™è¾æ›¸
for i in range(N):
    G[i] = set()  # é ‚ç‚¹iã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã®é›†åˆ

for i in range(M):
    A, B = map(int, input().split())

    # ç„¡å‘ã‚°ãƒ©ãƒ•ãªã®ã§ã€ä¸¡æ–¹å‘ã«è¾ºã‚’å¼µã‚‹
    G[A - 1].add(B - 1)
    G[B - 1].add(A - 1)

stack = [0] # ã‚¹ã‚¿ãƒƒã‚¯ã‚’ç”¨æ„ã™ã‚‹

# è¨ªå•æ¸ˆã¿é ‚ç‚¹ã‚’è¨˜éŒ²ã™ã‚‹é…åˆ—ã‚’ç”¨æ„ã™ã‚‹
vis = [False] * N
vis[0] = True

while len(stack) != 0:
    s = stack.pop()
    for e in G[s]:
        if vis[e]:
            continue

        vis[e] = True
        stack.append(e)

# ã“ã®æ–‡æ³•ãŒã‚ã‹ã‚‰ãªã„äººã¯ã€Œpython ä¸‰é …æ¼”ç®—å­ã€ã§æ¤œç´¢ã—ã‚ˆã†
print(
    "The graph is connected."
    if not False in vis
    else "The graph is not connected."
)
```

## ç·´ç¿’å•é¡Œ

### 10

- [Atcoder Regular Contest 022 C - ãƒ­ãƒŸã‚ªã¨ã‚¸ãƒ¥ãƒªã‚¨ãƒƒãƒˆ](https://atcoder.jp/contests/arc022/tasks/arc022_3)

å¹…å„ªå…ˆæ¢ç´¢ã§è§£ã„ãŸå•é¡Œã‚’æ·±ã•å„ªå…ˆæ¢ç´¢ã§è§£ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

# å†å¸°é–¢æ•°ã‚’ç”¨ã„ãŸæ·±ã•å„ªå…ˆæ¢ç´¢

å†å¸°é–¢æ•°ã‚’ç”¨ã„ã¦[ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®é‰„å‰‡ã€€æ¼”ç¿’å•é¡Œé›† A62 - Depth First Search](https://atcoder.jp/contests/tessoku-book/tasks/math_and_algorithm_am)ã‚’å®Ÿè£…ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

å†å¸°é–¢æ•°ã®è¨­è¨ˆã‚’æ“¬ä¼¼è¨€èªã§æ›¸ãã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```python
def dfs(G, v):
    vã‚’è¨ªå•æ¸ˆã¿ã«ã™ã‚‹

    vã«éš£æ¥ã™ã‚‹ã™ã¹ã¦ã®é ‚ç‚¹sã«ã¤ã„ã¦:
        if sãŒè¨ªå•æ¸ˆã¿:
            ãƒ‘ã‚¹ã™ã‚‹
        sã«ã¤ã„ã¦å†å¸°çš„ã«æ¢ç´¢ã™ã‚‹
```

## è§£ç­”ä¾‹

```python
import sys

# pythonã¯å†å¸°å‘¼ã³å‡ºã—ã®ä¸Šé™ãŒã‚ã‚‹ã®ã§ã€è§£é™¤ã™ã‚‹
# Nã¨åŒã˜ãã‚‰ã„ã«ã—ã¦ãŠã
sys.setrecursionlimit(200000)

N, M = map(int, input().split())

G = {}  # éš£æ¥ãƒªã‚¹ãƒˆã‚’è¡¨ã™è¾æ›¸
for i in range(N):
    G[i] = set()  # é ‚ç‚¹iã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã®é›†åˆ

for i in range(M):
    A, B = map(int, input().split())

    # ç„¡å‘ã‚°ãƒ©ãƒ•ãªã®ã§ã€ä¸¡æ–¹å‘ã«è¾ºã‚’å¼µã‚‹
    G[A - 1].add(B - 1)
    G[B - 1].add(A - 1)

# è¨ªå•æ¸ˆã¿é ‚ç‚¹ã‚’è¨˜éŒ²ã™ã‚‹é…åˆ—ã‚’ç”¨æ„ã™ã‚‹
vis = [False] * N

def dfs(G, v):
    vis[v] = True

    for s in G[v]:
        if vis[s]:
            continue
        dfs(G, s)

dfs(G, 0)
# ã“ã®æ–‡æ³•ãŒã‚ã‹ã‚‰ãªã„äººã¯ã€Œpython ä¸‰é …æ¼”ç®—å­ã€ã§æ¤œç´¢ã—ã‚ˆã†
print(
    "The graph is connected."
    if not False in vis
    else "The graph is not connected."
)
```

# äºŒéƒ¨ã‚°ãƒ©ãƒ•åˆ¤å®š

æ·±ã•å„ªå…ˆæ¢ç´¢ã‚’ä½¿ã£ã¦ã€ä¸ãˆã‚‰ã‚ŒãŸã‚°ãƒ©ãƒ• $G$ ãŒäºŒéƒ¨ã‚°ãƒ©ãƒ•ã§ã‚ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

- [ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨æ•°å­¦ã€€æ¼”ç¿’å•é¡Œé›† 047 - Bipartite Graph](https://atcoder.jp/contests/math-and-algorithm/tasks/math_and_algorithm_ao)

äºŒéƒ¨ã‚°ãƒ©ãƒ•ã«ã¤ã„ã¦æ€ã„å‡ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚äºŒéƒ¨ã‚°ãƒ©ãƒ•ã¨ã¯ã€ä»¥ä¸‹ã®å›³ã®ã‚ˆã†ã«ã€é ‚ç‚¹ã‚’äºŒã¤ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†ã‘ã¦ã€åŒã˜ã‚°ãƒ«ãƒ¼ãƒ—ã®é ‚ç‚¹åŒå£«ã¯è¾ºã§çµã°ã‚Œã¦ã„ãªã„ã‚°ãƒ©ãƒ•ã®ã“ã¨ã§ã™ã€‚

![äºŒéƒ¨ã‚°ãƒ©ãƒ•](/images/sample03.png)

å›³ 3: äºŒéƒ¨ã‚°ãƒ©ãƒ•

äºŒéƒ¨ã‚°ãƒ©ãƒ•ã®åˆ¤å®šã¯ã€æ·±ã•å„ªå…ˆæ¢ç´¢ã‚’ä½¿ã£ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

1. é ‚ç‚¹ 1 ã‚’ã‚°ãƒ«ãƒ¼ãƒ— 1 ã«å…¥ã‚Œã‚‹
2. ã‚°ãƒ«ãƒ¼ãƒ— 1 ã«å±ã™ã‚‹é ‚ç‚¹ã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã®ã†ã¡ã‚°ãƒ«ãƒ¼ãƒ—ãŒå®šã¾ã£ã¦ã„ãªã„ã‚‚ã®ã‚’ã‚°ãƒ«ãƒ¼ãƒ— 2 ã«å…¥ã‚Œã‚‹
3. ã‚°ãƒ«ãƒ¼ãƒ— 2 ã«å±ã™ã‚‹é ‚ç‚¹ã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã®ã†ã¡ã‚°ãƒ«ãƒ¼ãƒ—ãŒå®šã¾ã£ã¦ã„ãªã„ã‚‚ã®ã‚’ã‚°ãƒ«ãƒ¼ãƒ— 1 ã«å…¥ã‚Œã‚‹
4. 2ã¨3ã‚’ç¹°ã‚Šè¿”ã™
5. 2ã¨3ã‚’ç¹°ã‚Šè¿”ã™éç¨‹ã§ã€åŒã˜ã‚°ãƒ«ãƒ¼ãƒ—ã«å±ã™ã‚‹é ‚ç‚¹åŒå£«ãŒè¾ºã§çµã°ã‚Œã¦ã„ãŸã‚‰ã€äºŒéƒ¨ã‚°ãƒ©ãƒ•ã§ã¯ãªã„ã¨åˆ¤å®šã™ã‚‹
6. æ­£å¸¸ã«ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ãŸã‚‰äºŒéƒ¨ã‚°ãƒ©ãƒ•ã§ã‚ã‚‹

ä»¥ä¸Šã®ãƒ•ãƒ­ãƒ¼ã¯é ‚ç‚¹1ã¨é€£çµãªã‚°ãƒ©ãƒ•ã«ã¤ã„ã¦åˆ¤åˆ¥ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€ã‚°ãƒ©ãƒ•ãŒé€£çµã§ãªã„å ´åˆã‚‚ã‚ã‚‹ã®ã§ã€å…¨ã¦ã®é ‚ç‚¹ã«å¯¾ã—ã¦æ¢ç´¢ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

## è§£ç­”ä¾‹

```python
import sys

sys.setrecursionlimit(400000)

N, M = map(int, input().split())

G = {}  # éš£æ¥ãƒªã‚¹ãƒˆã‚’è¡¨ã™è¾æ›¸
for i in range(N):
    G[i] = set()  # é ‚ç‚¹iã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã®é›†åˆ

for i in range(M):
    A, B = map(int, input().split())

    # ç„¡å‘ã‚°ãƒ©ãƒ•ãªã®ã§ã€ä¸¡æ–¹å‘ã«è¾ºã‚’å¼µã‚‹
    G[A - 1].add(B - 1)
    G[B - 1].add(A - 1)

# è¨ªå•æ¸ˆã¿é ‚ç‚¹ã‚’è¨˜éŒ²ã™ã‚‹é…åˆ—ã‚’ç”¨æ„ã™ã‚‹
group = [-1] * N
group[0] = 0

def dfs(G, v):
    for s in G[v]:
        if group[s] != -1:
            if group[s] == group[v]:
                return False
            continue

        group[s] = 1 if group[v] == 0 else 0
        if not dfs(G, s):
            return False
    return True

# ã‚°ãƒ©ãƒ•ãŒé€£çµã§ãªã„å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§å…¨ã¦ã®è¦ç´ ã«å¯¾ã—ã¦dfsã‚’è¡Œã†
# ã¾ãš0ã«ã¤ã„ã¦æ¢ç´¢ã™ã‚‹(ã‚‚ã£ã¨ã„ã„æ›¸ãæ–¹ã‚ã‚Šãã†)
ok = dfs(G, 0)
for v in range(1, N):
    if group[v] != -1:
        continue
    if not dfs(G, v):
        ok = False
        break

print("Yes" if ok else "No")
```

# ãƒ€ã‚¤ã‚¯ã‚¹ãƒˆãƒ©æ³•

ä½•å€‹ã‹å‰ã®ç« ã§ã€é‡ã¿ãªã—ã‚°ãƒ©ãƒ•ã«ã¤ã„ã¦ã®æœ€çŸ­çµŒè·¯å•é¡Œã‚’è§£ãã¾ã—ãŸã€‚é‡ã¿ã¤ãã‚°ãƒ©ãƒ•ã®æœ€çŸ­çµŒè·¯å•é¡Œã¯ãƒ€ã‚¤ã‚¯ã‚¹ãƒˆãƒ©æ³•ã¨ã„ã†æ–¹æ³•ã‚’ä½¿ã£ã¦è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚

ãƒ¨ãƒ“ãƒãƒªã•ã‚“ãŒè§£èª¬å‹•ç”»ã‚’å‡ºã—ã¦ã„ã‚‹ã®ã§ã€ã¾ãšã¯è¦‹ã¦æ¥ã¦ä¸‹ã•ã„ã€‚

- [ã‚°ãƒ©ãƒ•ç†è«–â‘¤(ãƒ€ã‚¤ã‚¯ã‚¹ãƒˆãƒ©ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ) - äºˆå‚™æ ¡ã®ãƒãƒªã§å­¦ã¶ã€Œå¤§å­¦ã®æ•°å­¦ãƒ»ç‰©ç†ã€](www.youtube.com/watch?v=X1AsMlJdiok)

å‹•ç”»ã§ç¤ºã•ã‚Œã¦ã„ã‚‹æ‰‹é †ã‚’ãã®ã¾ã¾è¨˜ã—ã¾ã™ã€‚

1. å§‹ç‚¹ã«0ã‚’æ›¸ãè¾¼ã‚€
2. æœªç¢ºå®šã®åœ°ç‚¹ã®ä¸­ã‹ã‚‰æœ€ã‚‚å°ã•ã„å€¤ã‚’æŒã¤åœ°ç‚¹1ã¤ã‚’é¸ã³ã€ãã®å€¤ã‚’ç¢ºå®šã•ã›ã‚‹
3. 2ã§ç¢ºå®šã—ãŸåœ°ç‚¹ã‹ã‚‰ç›´æ¥ç¹‹ãŒã£ã¦ã„ã¦ã€ã‹ã¤æœªç¢ºå®šãªåœ°ç‚¹ã«å¯¾ã—ã€ã‹ã‹ã‚‹æ™‚é–“ã‚’è¨ˆç®—ã—ã€æ›¸ãè¾¼ã¾ã‚Œã¦ã„ã‚‹æ•°ã‚ˆã‚Šå°ã•ã‘ã‚Œã°æ›´æ–°ã™ã‚‹
4. å…¨ã¦ã®åœ°ç‚¹ãŒç¢ºå®šã—ã¦ã„ã‚Œã°çµ‚äº†ã€‚ãã†ã§ãªã‘ã‚Œã°2ã«æˆ»ã‚‹

ã“ã‚Œã‚’ãã®ã¾ã¾å®Ÿè£…ã™ã‚Œã°è‰¯ã„ã§ã™ã€‚

## è§£ç­”ä¾‹

```python
# è¾ºã«é‡ã•ã‚’æŒãŸã›ã‚‹ãŸã‚ã«ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©
class Edge:
    def __init__(self, to, weight) -> None:
        self.to = to
        self.weight = weight

N, M = map(int, input().split())

G = {}  # éš£æ¥ãƒªã‚¹ãƒˆã‚’è¡¨ã™è¾æ›¸
for i in range(N):
    G[i] = set()  # é ‚ç‚¹iã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã®é›†åˆ

for i in range(M):
    A, B, C = map(int, input().split())

    # ç„¡å‘ã‚°ãƒ©ãƒ•ãªã®ã§ã€ä¸¡æ–¹å‘ã«è¾ºã‚’å¼µã‚‹
    G[A - 1].add(Edge(B - 1, C))
    G[B - 1].add(Edge(A - 1, C))

INF = 10e9

ans = [INF] * N
confirm = [False] * N
ans[0] = 0

while True:
    position = -1
    min_ = INF
    for i in range(N):
        if confirm[i]:
            continue
        if min_ >= ans[i]:
            position = i
            min_ = ans[i]
    if position == -1:
        break

    confirm[position] = True


    curr = ans[position]
    for v in G[position]:
        if curr + v.weight <= ans[v.to]:
            ans[v.to] = curr + v.weight


for d in ans:
    print(d)
```

ã“ã®ã¾ã¾ã§ã‚‚å‹•ä½œã—ã¾ã™ãŒã€atcoderã«æå‡ºã™ã‚‹ã¨TLEã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€æ¯å›æœ€å°å€¤ã‚’æ¢ã™ãŸã‚ã«ãƒ«ãƒ¼ãƒ—ã‚’å›ã—ã¦ãŠã‚Šã€è¨ˆç®—é‡ãŒ $O(N^2)$ ã«ãªã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚

ã“ã‚Œã‚’æ”¹å–„ã™ã‚‹ãŸã‚ã«ã€æœ€å°å€¤ã‚’æ¢ã™ã¨ãã«å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼ã¨å‘¼ã°ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ä½¿ã†ã¨ã€è¨ˆç®—é‡ã‚’ $O(M \log N)$ ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

# å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼

ã¾ãšã¯å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚é€šå¸¸ã®ã‚­ãƒ¥ãƒ¼ã¯ã€å…ˆã«å…¥ã‚ŒãŸã‚‚ã®ã‚’å…ˆã«å–ã‚Šå‡ºã™ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã—ãŸãŒã€å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼ã¯ã€ä»Šã‚­ãƒ¥ãƒ¼ã«å…¥ã£ã¦ã„ã‚‹è¦ç´ ã®ã†ã¡æœ€å°ã®ã‚‚ã®ã‚’å–ã‚Šå‡ºã™ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚

ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®ç« ã§è©³ã—ãæ‰±ã„ã¾ã™ãŒã€è¨ˆç®—é‡ã¯è¦ç´ ã®è¿½åŠ ã« $O(\log N)$ã€è¦ç´ ã®å–ã‚Šå‡ºã—ã« $O(\log N)$ ã‹ã‹ã‚Šã¾ã™ã€‚

pythonã§ã¯[heapq](https://docs.python.org/ja/3/library/heapq.html)ã‚’ä½¿ã†ã¨å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä»¥ä¸‹ã®å•é¡Œã‚’è§£ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

- [ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®é‰„å‰‡ã€€æ¼”ç¿’å•é¡Œé›† A53-Priority Queue](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ba)

ç°¡å˜ãªã®ã§ã€è§£èª¬ã¯çœç•¥ã—ã¾ã™ã€‚

## è¨ˆç®—é‡ã®æ”¹å–„

å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼ã‚’ä½¿ã£ã¦ã€ãƒ€ã‚¤ã‚¯ã‚¹ãƒˆãƒ©æ³•ã®è¨ˆç®—é‡ã‚’æ”¹å–„ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

æ‰‹é †ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚

1. 0ã‚’å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼ã«å…¥ã‚Œã‚‹
2. å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼ã‹ã‚‰æœ€å°å€¤ã‚’å–ã‚Šå‡ºã™
3. å–ã‚Šå‡ºã—ãŸå€¤ã‚’ç¢ºå®šã•ã›ã‚‹
4. 3ã§ç¢ºå®šã—ãŸå€¤ã‹ã‚‰ç›´æ¥ç¹‹ãŒã£ã¦ã„ã¦ã€ã‹ã¤æœªç¢ºå®šãªåœ°ç‚¹ã«å¯¾ã—ã€ã‹ã‹ã‚‹æ™‚é–“ã‚’è¨ˆç®—ã—ã€æ›¸ãè¾¼ã¾ã‚Œã¦ã„ã‚‹æ•°ã‚ˆã‚Šå°ã•ã‘ã‚Œã°æ›´æ–°ã—ã€å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼ã«å…¥ã‚Œã‚‹
5. å…¨ã¦ã®åœ°ç‚¹ãŒç¢ºå®šã—ã¦ã„ã‚Œã°çµ‚äº†ã€‚ãã†ã§ãªã‘ã‚Œã°2ã«æˆ»ã‚‹

## è§£ç­”ä¾‹

```python
import heapq


class Edge:
    def __init__(self, to, weight) -> None:
        self.to = to
        self.weight = weight


N, M = map(int, input().split())

G = {}  # éš£æ¥ãƒªã‚¹ãƒˆã‚’è¡¨ã™è¾æ›¸
for i in range(N):
    G[i] = set()  # é ‚ç‚¹iã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã®é›†åˆ

for i in range(M):
    A, B, C = map(int, input().split())

    # ç„¡å‘ã‚°ãƒ©ãƒ•ãªã®ã§ã€ä¸¡æ–¹å‘ã«è¾ºã‚’å¼µã‚‹
    G[A - 1].add(Edge(B - 1, C))
    G[B - 1].add(Edge(A - 1, C))

INF = 10e9

ans = [INF] * N
confirm = [False] * N
ans[0] = 0

queue = [(0, 0)]

while queue:
    _, position = heapq.heappop(queue)

    if confirm[position]:
        continue
    confirm[position] = True

    for v in G[position]:
        if ans[position] + v.weight <= ans[v.to]:
            ans[v.to] = ans[position] + v.weight
            heapq.heappush(queue, (ans[v.to], v.to))

for d in ans:
    if d == INF:
        print(-1)
    else:
        print(d)
```

# æœ€å°å…¨åŸŸæœ¨

æœ€å°å…¨åŸŸæœ¨ã¨ã¯ã€é‡ã¿ä»˜ãã‚°ãƒ©ãƒ•ã®ä¸­ã§ã€å…¨ã¦ã®é ‚ç‚¹ã‚’å«ã¿ã€è¾ºã®é‡ã¿ã®ç·å’ŒãŒæœ€å°ã«ãªã‚‹ã‚ˆã†ãªæœ¨ã®ã“ã¨ã§ã™ã€‚

ã©ã‚“ãªã‚‚ã®ã«å¿œç”¨ã§ãã‚‹ã‹ã¨ã„ã†ã¨ã€ä¾‹ãˆã°ã€éƒ½å¸‚é–“ã‚’çµã¶é“è·¯ã®å»ºè¨­è²»ã‚’æœ€å°ã«ã™ã‚‹ã‚ˆã†ãªå•é¡Œã«å¿œç”¨ã§ãã¾ã™ã€‚

ä»¥ä¸‹ã®å•é¡Œã‚’è§£ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

- [ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®é‰„å‰‡ã€€æ¼”ç¿’å•é¡Œé›† A67 - MST (Minimum Spanning Tree)](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_bo)

æœ€å°å…¨åŸŸæœ¨ã‚’æ±‚ã‚ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ã„ãã¤ã‹ã‚ã‚Šã¾ã™ãŒã€ã“ã“ã§ã¯ã‚¯ãƒ©ã‚¹ã‚«ãƒ«æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

ã‚¯ãƒ©ã‚¹ã‚«ãƒ«æ³•ã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã§æœ€å°å…¨åŸŸæœ¨ã‚’æ±‚ã‚ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã™ã€‚

1. æ¡ç”¨ã•ã‚Œã¦ã„ãªã„è¾ºã®ã†ã¡ã‚‚ã£ã¨ã‚‚é‡ã¿ãŒå°ã•ã„ã‚‚ã®ã‚’é¸ã³ã€é–‰è·¯ãŒã§ããªã„ãªã‚‰æ¡ç”¨ã™ã‚‹
2. 2ã‚’ç¹°ã‚Šè¿”ã™
3. å…¨ã¦ã®é ‚ç‚¹ãŒã¤ãªãŒã£ã¦ã„ã‚Œã°çµ‚äº†

æœ€ã‚‚å°ã•ã„è¾ºã‚’é¸ã¶ã¨ãã«ã€å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼ã‚’ä½¿ã†ã¨è¨ˆç®—é‡ã‚’æ”¹å–„ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã¾ãŸã€é–‰è·¯ãŒã§ããªã„ã‹ã©ã†ã‹ã¯ã€Union Find ã‚’ä½¿ãˆã°ç°¡å˜ã«åˆ¤å®šã§ãã¾ã™ã€‚

## è§£ç­”ä¾‹

```python
from atcoder.dsu import DSU
import heapq

N, M = map(int, input().split())

G = {}  # éš£æ¥ãƒªã‚¹ãƒˆã‚’è¡¨ã™è¾æ›¸
for i in range(N):
    G[i] = set()  # é ‚ç‚¹iã«éš£æ¥ã™ã‚‹é ‚ç‚¹ã®é›†åˆ

# (é‡ã¿, é ‚ç‚¹1, é ‚ç‚¹2)ã®å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼
edges = []
for i in range(M):
    A, B, C = map(int, input().split())

    heapq.heappush(edges, (C, A-1, B-1))

uf = DSU(N)

ans = 0
while edges:
    C, A, B = heapq.heappop(edges)

    # Aã¨Bã®ãƒ«ãƒ¼ãƒˆãŒåŒã˜ãªã‚‰ã€ã“ã®è¾ºã‚’è¿½åŠ ã™ã‚‹ã¨é–‰è·¯ã«ãªã‚‹
    if uf.leader(A) == uf.leader(B):
        continue

	# æ¡ç”¨ã™ã‚‹ãªã‚‰è¾ºã‚’å¼µã‚Šã€é‡ã¿ã‚’åŠ ç®—ã™ã‚‹
    uf.merge(A, B)
    ans += C

print(ans)
```

# ã¾ã¨ã‚

é•·ããªã£ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€ã‚°ãƒ©ãƒ•ã®è€ƒãˆæ–¹ã«è¦ªã—ã‚€ã“ã¨ã¯ã§ããŸã§ã—ã‚‡ã†ã‹ã€‚
ã‚°ãƒ©ãƒ•æœ€é«˜ï¼
